<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <th:block th:replace="fragments/css :: css"/>

        <style>
            /* Set the size of the div element that contains the map */
            #map {
                height: 400px;  /* The height is 400 pixels */
                width: 100%;  /* The width is the width of the web page */
            }
        </style>

        <title>Child Focus - Localisation des affiches</title>
    </head>
    <body id="page-top">
        <div th:replace="fragments/headers :: header"></div>
        <div id="wrapper">
            <div th:replace="fragments/sidebar :: sidebar"></div>
            <div id="content-wrapper">
                <div class="container-fluid">
                    <!-- Breadcrumbs-->
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="/">Accueil</a>
                        </li>
                        <li class="breadcrumb-item active">Localisation des affichers</li>
                    </ol>
                    <!-- Page Content -->
                    <h1>Localisation des affiches</h1>


                    <div th:each="displayLocation, rowStat: ${displayLocations}">
    <!--                        <script th:utext="'var poster' + ${displayLocation.id} ' = {lat: ' + ${displayLocation.coordinate.latitude} + ', lng: ' + ${displayLocation.coordinate.longitude} +'};'"></script>-->
    <!--                        <script th:utext="'var marker' + ${displayLocation.id} ' = new google.maps.Marker({position: poster' + ${displayLocation.id} + ', map: map});'"></script>-->
                    </div>
                    <!--The div element for the map -->
                    <div id="map"></div>
                    <script th:inline="javascript">
                        /*<![CDATA[*/
                        var displayLocation/*[[${displayLocation.id}]] = {lat: [[${displayLocation.coordinate.latitude}]], lng: [[${displayLocation.coordinate.longitude}]]*/};
                        var marker/*[[${displayLocation.id}]] = new google.maps.Marker({position: displayLocation[[${displayLocation.id}]]*/, map: map});
                        /*]]>*/
                    </script>
                    <script>
                        // Initialize and add the map
                        function initMap() {
                            // The location of Bruxelles
                            var bruxelles = {lat: 50.85045, lng: 4.34878};
                            // The map, centered at Bruxelles
                            var map = new google.maps.Map(
                                document.getElementById('map'), {zoom: 7, center: bruxelles});
                            // The marker, positioned at Uluru
                            // var marker = new google.maps.Marker({position: uluru, map: map});
                        }
                    </script>
                    <script async defer
                            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjiRc3_8znsvtwL3o9m0h3Ojm27Wl5kRs&callback=initMap">
                    </script>
                </div>
            </div>
            <div th:replace="fragments/footer :: footer"></div>
            <!-- /.content-wrapper -->
        </div>
        <!-- /#wrapper -->
        <div th:replace="fragments/elements :: page-top"></div>
        <div th:replace="fragments/logout-modal :: logout-modal"></div>

        <!-- Bootstrap and jquery -->
        <div th:replace="fragments/bootstrap-and-jquery :: bootstrap-and-jquery"></div>

    </body>
</html>
